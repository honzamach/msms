.. _section-readme:

MSMS
================================================================================

MSMS is a server management system based on `Ansible <https://www.ansible.com/>`__ 
IT automation tool and other open-source utilities designed to create ready to use 
and easy to extend server management workflow with following features:

  * Full power of Ansible with customized preconfigured environment
  * Ready to use base set of server management roles
  * Role management based on Git
  * Built-in system and role documentation `Sphinx-doc <http://www.sphinx-doc.org/en/master/#>`__
  * Autogenerated server documentation based on `Sphinx-doc <http://www.sphinx-doc.org/en/master/#>`__
  * Fully encrypted server configuration storage based on `encfs <https://en.wikipedia.org/wiki/EncFS>`__
  * Makefile-based control utility

For full description of the MSMS architecture please refer to :ref:`section-overview`
manual page.


Prerequisites
--------------------------------------------------------------------------------

You must have the `Ansible <https://www.ansible.com/>`__ already installed on your
system. Additionally you need to have following Python libraries installed:

* sphinx
* sphinx-rtd-theme


Usage
--------------------------------------------------------------------------------

Create fresh server management environment from scratch::

	# Prepare necessary directories
	$ mkdir ~/Ansible
	$ cd ~/Ansible

	# Clone the MSMS base
	$ git clone https://github.com/honzamach/msms.git msms-local
	$ cd msms-local

	# Setup fresh server management environment
	$ make msms-setup

	# Generate and view documentation locally
	$ make docs
	$ make docs-view

Load existing server management environment::

	# Prepare necessary directories
	$ mkdir ~/Ansible
	$ cd ~/Ansible

	# Clone the MSMS base
	$ git clone https://github.com/honzamach/msms.git msms-local
	$ cd msms-local

	# Load existing server management environment from remote shared Git repository
	$ make msms-load META_URL=git_repository_url

	# Enable the server management environment before executing any roles
	$ make msms-on

	# Generate and view documentation locally
	$ make docs
	$ make docs-view

Install new role::

	# Install the role from remore Git repository
	$ make role-install ROLE_URL=https://github.com/honzamach/ansible-role-cleanup.git ROLE_NAME=honzamach.cleanup

	# Enable the role within the local server management environment
	$ make roles-on

Executing server management tasks::

	# Server management environment must be enabled before executing server management tasks
	$ make msms-on

	# Edit server environment configurations in ./vault/...

	# Execute Ansible playbooks as necessary
	$ ansible-playbook -i inventories/production role_accounts.yml
	$ ansible-playbook -i inventories/production role_...

	# Commit and share local environment changes
	$ make msms-commit
	$ make msms-push

	# Disable the server management environment when you are done
	$ make msms-off

For full description of the MSMS usage please refer to :ref:`section-usage`
manual page.
